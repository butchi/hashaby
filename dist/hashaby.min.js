"use strict";function _typeof(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a}function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(e,n,o){return n&&a(e.prototype,n),o&&a(e,o),e}}();!function(){function jumpTo(a){var e=$(a).offset().top;$("body,html").scrollTop(e)}var modeLi={".":"findClass","?":"query",";":"exec","=":"jump","+":"func"},isAllowDomain,nameSpace=window,Hashaby=function(){function Hashaby(){var a=this;_classCallCheck(this,Hashaby),this.allowDomainArr=["localhost"],this.forceHashchange=!0,$(function(){$(document).on("click","a[href]",function(e){if(a.forceHashchange){var n=$(e.target),o=n.attr("href");o.match(/^#/)&&(a.clearHash(),location.replace(o))}})}),$(window).on("load hashchange",function(e){var n=location.hash,o=n[1],t=modeLi[o];if(void 0!==t){var c=n.replace(/^#./,"");a.allowDomainArr.forEach(function(a){"string"==typeof a?isAllowDomain=isAllowDomain||a===location.hostname:a instanceof RegExp&&(isAllowDomain=isAllowDomain||a.test(location.hostname))}),a[t](c)}})}return _createClass(Hashaby,[{key:"findClass",value:function(a){var e=document.querySelector("."+a);jumpTo(e)}},{key:"query",value:function(a){var e=document.querySelector(a);jumpTo(e)}},{key:"exec",value:function exec(cmdStr){isAllowDomain&&eval(cmdStr)}},{key:"jump",value:function jump(cmdStr){var elm;isAllowDomain&&(elm=document.querySelector(eval(cmdStr)),jumpTo(elm))}},{key:"func",value:function(a){var e=a.match(/^(.+)\((.*)\)$/)||a.match(/^(.+)$/)||[],n=e[1],o=e[2]||"",t=o.split(","),c=!0;t.forEach(function(a,e){var n=(a.match(/"(.*)"/)||a.match(/'(.*)'/)||[])[1],o=Number(a);n?t[e]=String(n):isNaN(o)?c=!1:t[e]=o});var l=nameSpace[n];"function"==typeof l&&c&&l.apply(null,t)}},{key:"allowDomain",value:function(a){this.allowDomainArr.push(a)}},{key:"doWith",value:function(a){"object"===("undefined"==typeof a?"undefined":_typeof(a))&&(nameSpace=a)}},{key:"clearHash",value:function(){var a=location.href;if(/^http/.test(a)){var e=a.replace(/#.*$/,"");history.pushState(null,null,e)}}}]),Hashaby}();window.hashaby=new Hashaby}();